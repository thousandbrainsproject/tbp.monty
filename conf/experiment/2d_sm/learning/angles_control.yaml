# @package _global_
# Base config for ANGLES experiments
# Derived from my_experiments.py make_angles_experiment_pair()
#
# Usage: python run.py experiment=2d_sm/learning/base_angles

defaults:
  - override /mode: pretrain
  - override /logging: pretrain
  - override /environment: angled_lines
  
_target_: tbp.monty.frameworks.experiments.pretraining_experiments.MontySupervisedObjectPretrainingExperiment

# Config overrides
config:
  # n_train_epochs = len(ANGLES_POSITIONS) * len(rotations)
  n_train_epochs: 9
  logging:
    output_dir: ${path.expanduser:${oc.env:MONTY_MODELS}/2d_sensor}
    python_log_level: INFO
    run_name: angles_control
  monty_config:
    motor_system_config:
      motor_system_args:
        policy_args:
          fixed_amount: 1  # step_size, override in subconfigs
  env_interface_config:
    env_init_args:
      data_path: ${path.expanduser:${oc.env:MONTY_DATA}/compositional_objects}
  train_env_interface_class: ${monty.class:tbp.monty.frameworks.environments.embodied_data.InformedEnvironmentInterface}
  train_env_interface_args:
    object_init_sampler:
      _target_: tbp.monty.frameworks.config_utils.make_env_interface_configs.PredefinedObjectInitializer
      positions:
        # 3x3 grid of positions
        - [0.0, 1.5, 0.0]
        - [-0.03, 1.5, 0.0]
        - [0.03, 1.5, 0.0]
        - [0.0, 1.53, 0.0]
        - [-0.03, 1.53, 0.0]
        - [0.03, 1.53, 0.0]
        - [0.0, 1.47, 0.0]
        - [-0.03, 1.47, 0.0]
        - [0.03, 1.47, 0.0]
      rotations: [[0.0, 0.0, 0.0]]  # Override in subconfigs

