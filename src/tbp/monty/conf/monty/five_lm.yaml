# @package config.monty_config
# Five learning module configuration for multi-sensor agent
#
# 5 patch sensors, each connected to its own displacement graph LM,
# plus 1 view finder for episode initialization.

defaults:
  - monty_class: graph_matching
  - monty_args: defaults
  - motor_system: informed

monty_class: ${monty.class:tbp.monty.frameworks.models.graph_matching.MontyForGraphMatching}

learning_module_configs:
  learning_module_0:
    learning_module_class: ${monty.class:tbp.monty.frameworks.models.displacement_matching.DisplacementGraphLM}
    learning_module_args:
      k: 5
      match_attribute: displacement
  learning_module_1:
    learning_module_class: ${monty.class:tbp.monty.frameworks.models.displacement_matching.DisplacementGraphLM}
    learning_module_args:
      k: 5
      match_attribute: displacement
  learning_module_2:
    learning_module_class: ${monty.class:tbp.monty.frameworks.models.displacement_matching.DisplacementGraphLM}
    learning_module_args:
      k: 5
      match_attribute: displacement
  learning_module_3:
    learning_module_class: ${monty.class:tbp.monty.frameworks.models.displacement_matching.DisplacementGraphLM}
    learning_module_args:
      k: 5
      match_attribute: displacement
  learning_module_4:
    learning_module_class: ${monty.class:tbp.monty.frameworks.models.displacement_matching.DisplacementGraphLM}
    learning_module_args:
      k: 5
      match_attribute: displacement

sensor_module_configs:
  sensor_module_0:
    sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.HabitatSM}
    sensor_module_args:
      sensor_module_id: patch_0
      features:
        - pose_vectors
        - pose_fully_defined
        - on_object
        - object_coverage
        - rgba
        - hsv
        - principal_curvatures
        - principal_curvatures_log
      save_raw_obs: false
  sensor_module_1:
    sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.HabitatSM}
    sensor_module_args:
      sensor_module_id: patch_1
      features:
        - pose_vectors
        - pose_fully_defined
        - on_object
        - object_coverage
        - rgba
        - hsv
        - principal_curvatures
        - principal_curvatures_log
      save_raw_obs: false
  sensor_module_2:
    sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.HabitatSM}
    sensor_module_args:
      sensor_module_id: patch_2
      features:
        - pose_vectors
        - pose_fully_defined
        - on_object
        - object_coverage
        - rgba
        - hsv
        - principal_curvatures
        - principal_curvatures_log
      save_raw_obs: false
  sensor_module_3:
    sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.HabitatSM}
    sensor_module_args:
      sensor_module_id: patch_3
      features:
        - pose_vectors
        - pose_fully_defined
        - on_object
        - object_coverage
        - rgba
        - hsv
        - principal_curvatures
        - principal_curvatures_log
      save_raw_obs: false
  sensor_module_4:
    sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.HabitatSM}
    sensor_module_args:
      sensor_module_id: patch_4
      features:
        - pose_vectors
        - pose_fully_defined
        - on_object
        - object_coverage
        - rgba
        - hsv
        - principal_curvatures
        - principal_curvatures_log
      save_raw_obs: false
  sensor_module_5:
    sensor_module_class: ${monty.class:tbp.monty.frameworks.models.sensor_modules.Probe}
    sensor_module_args:
      sensor_module_id: view_finder
      save_raw_obs: false

sm_to_agent_dict:
  patch_0: ${monty.agent_id:agent_id_0}
  patch_1: ${monty.agent_id:agent_id_0}
  patch_2: ${monty.agent_id:agent_id_0}
  patch_3: ${monty.agent_id:agent_id_0}
  patch_4: ${monty.agent_id:agent_id_0}
  view_finder: ${monty.agent_id:agent_id_0}

sm_to_lm_matrix:
  - [0]
  - [1]
  - [2]
  - [3]
  - [4]

lm_to_lm_matrix: null

lm_to_lm_vote_matrix:
  - [1, 2, 3, 4]
  - [0, 2, 3, 4]
  - [0, 1, 3, 4]
  - [0, 1, 2, 4]
  - [0, 1, 2, 3]

